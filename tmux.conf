# Global settings

set -g history-limit 30000
set-window-option -g mouse on

# Change default modifier ([CTRL] + [A] instead of [CTRL] + [B])

set -g prefix C-a
bind a send-prefix

# Hotkeys to split window into panels

bind - split-window -v -c "#{pane_current_path}"
bind _ split-window -v -c "#{pane_current_path}"

bind | split-window -h -c "#{pane_current_path}"
bind \ split-window -h -c "#{pane_current_path}"

# Hotkeys for vim-style panel navigation

bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

bind r source-file ~/.tmux.conf
bind X kill-session

# Hotkeys to switch on/off mouse-mode

unbind m
bind m \
  set -g mouse off \;\
  display 'Mouse: Off'

unbind M
bind M \
  set -g mouse on \;\
  display 'Mouse: On'

# Hotkeys to zoom panel

unbind ,
bind , \
  new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \;\
  swap-pane -s tmux-zoom.0 \;\
  select-window -t tmux-zoom

unbind .
bind . \
  last-window \;\
  swap-pane -s tmux-zoom.0 \;\
  kill-window -t tmux-zoom

# Hotkey to toggle "broadcast" function

bind b set-window-option synchronize-panes

set-window-option -g mode-keys vi

if-shell "uname | grep -q Darwin" "bind-key -Tcopy-mode-vi 'v'     send -X begin-selection"
if-shell "uname | grep -q Darwin" "bind-key -Tcopy-mode-vi 'y'     send -X copy-pipe-and-cancel \"reattach-to-user-namespace pbcopy\""
if-shell "uname | grep -q Darwin" "unbind   -Tcopy-mode-vi 'Enter'"
if-shell "uname | grep -q Darwin" "bind-key -Tcopy-mode-vi 'Enter' send -X copy-pipe-and-cancel \"reattach-to-user-namespace pbcopy\""

# Theme

source-file ~/.tmux/theme.conf
